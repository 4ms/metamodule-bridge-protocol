enum Phase : byte {REQUEST = 0, ANSWER}

struct PresenceDetection
{
    phase: Phase;
}

struct Switch
{
    state: bool;
}

table PatchNames
{
    names:[string];
}

table UploadPatch
{
    content:[ubyte];
}

table Result
{
    success: bool;
    message: string;
}

union AnyMessage {Switch, PresenceDetection, UploadPatch, PatchNames, Result}

table Message
{
    content: AnyMessage;
}

root_type Message;
